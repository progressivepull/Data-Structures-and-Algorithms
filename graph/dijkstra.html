<!-- =============================
File: dijkstra.html
Project: graph/dijkstra
Description: Interactive, step-by-step Dijkstra's Algorithm visualizer using Canvas, jQuery, and Bootstrap.
Required directory structure (relative to this HTML file):
  ../css/common.css
  ../css/graph/dijkstra.css
  ../lib/jquery-3.7.1.min.js
  ../lib/bootstrap-5.3.8-dist/js/bootstrap.min.js
  ../lib/bootstrap-5.3.8-dist/css/bootstrap.min.css
  ../js/graph/dijkstra.js
============================= -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Dijkstra Visualizer — graph/dijkstra</title>

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="../lib/bootstrap-5.3.8-dist/css/bootstrap.min.css">
  <!-- Common styles (provided by you) -->
  <link rel="stylesheet" href="../css/common.css">
  <!-- Page-specific CSS for this demo -->
  <link rel="stylesheet" href="../css/graph/dijkstra.css">

  
  <!-- Basic favicon link -->
  <link rel="icon" href="./../favicon.ico" type="image/x-icon">

</head>
<body>

  <div id="main-content">

    <br><br><br>


      <div class="container my-5">
        <div class="p-4 rounded-4 shadow-sm bg-light border border-1">
          <h1 class="text-primary mb-3 fw-bold">Dijkstra’s Algorithm (Single-Source Shortest Paths)</h1>
          <p class="lead">
            Dijkstra’s Algorithm computes the shortest-path distances from a single source to all other
            vertices in a graph with <strong>non-negative edge weights</strong>. It incrementally “settles”
            the closest unsettled node and relaxes its outgoing edges, guaranteeing optimal distances.
          </p>

          <hr class="my-4" />

          <h2 class="text-secondary mb-3">How It Works</h2>
          <p>The algorithm maintains tentative distances and a priority queue:</p>
          <ol class="fs-5">
            <li><strong>Initialize:</strong> Set <code>dist[source] = 0</code>, all others to <code>∞</code>.
                Previous/parent array <code>prev[*] = null</code>.</li>
            <li><strong>Priority Queue:</strong> Insert the source into a min-priority queue keyed by <code>dist</code>.</li>
            <li><strong>Iterate:</strong> While the queue isn’t empty:
              <ul>
                <li>Extract the node <code>u</code> with the smallest <code>dist[u]</code> (this node becomes <em>settled</em>).</li>
                <li>For each edge <code>u → v</code> of weight <code>w</code>, try to improve <code>v</code>:
                  <br><code>if dist[u] + w &lt; dist[v]: dist[v] = dist[u] + w; prev[v] = u;</code> then (re)insert <code>v</code> into the queue.</li>
              </ul>
            </li>
            <li><strong>Finish:</strong> When the queue empties, all reachable nodes have final shortest distances.</li>
          </ol>

          <hr class="my-4" />

          <h2 class="text-secondary mb-3">Example</h2>
          <p>Weighted undirected graph (adjacency as edge list <code>u v w</code>):</p>

          <div class="bg-white p-3 rounded border mb-3 font-monospace">
            0 1 7<br>
            0 2 9<br>
            0 5 14<br>
            1 2 10<br>
            1 3 15<br>
            2 3 11<br>
            2 5 2<br>
            3 4 6<br>
            4 5 9
          </div>

          <p class="mb-3">
            Starting at <code>source = 0</code>:
            <ul>
              <li>Initialize: <code>dist[0]=0</code>, others <code>∞</code>. PQ = [0]</li>
              <li>Extract 0 → relax (0,1,7), (0,2,9), (0,5,14): <code>dist[1]=7</code>, <code>dist[2]=9</code>, <code>dist[5]=14</code></li>
              <li>Extract 1 (7) → relax (1,2,10), (1,3,15): no change to 2; <code>dist[3]=22</code></li>
              <li>Extract 2 (9) → relax (2,3,11), (2,5,2): <code>dist[3]=20</code>, <code>dist[5]=11</code></li>
              <li>Extract 5 (11) → relax (5,4,9): <code>dist[4]=20</code></li>
              <li>Extract 3 (20), then 4 (20) → no improvements. Done.</li>
            </ul>
            Final distances from 0: <code>[0, 7, 9, 20, 20, 11]</code>.
          </p>

          <!-- Optional: include your visual here.
              If you're using the provided screenshot in this workspace, this path works in the chat UI:
              <img class="img-fluid rounded border" src="sandbox:/mnt/data/2025-11-14_13-14-10.png" alt="Dijkstra step-through demo">
              In a real site, replace src with your own image path. -->

          <hr class="my-4" />

          <h2 class="text-secondary mb-3">Reference Implementation (JavaScript)</h2>
          <p class="mb-2">Adjacency list format: <code>adj[u] = [{to, w}, ...]</code>. Returns <code>{dist, prev}</code>.</p>

          <pre class="bg-white p-3 rounded border mb-3"><code class="language-js">
      // Binary-heap priority queue is ideal; below is a minimal queue using an array for clarity.
      function dijkstra(adj, source) {
        const n = adj.length;
        const dist = Array(n).fill(Infinity);
        const prev = Array(n).fill(null);
        const settled = new Array(n).fill(false);

        dist[source] = 0;
        const pq = [source]; // store node indices; re-sort on each pop for simplicity

        const byDist = (a,b) => dist[a] - dist[b];

        while (pq.length) {
          pq.sort(byDist);
          const u = pq.shift();
          if (settled[u]) continue;
          settled[u] = true;

          for (const {to: v, w} of adj[u]) {
            if (settled[v]) continue;
            const alt = dist[u] + w;
            if (alt &lt; dist[v]) {
              dist[v] = alt;
              prev[v] = u;
              pq.push(v);
            }
          }
        }
        return { dist, prev };
      }

      // Reconstruct path to t:
      function restorePath(prev, t) {
        const path = [];
        for (let cur = t; cur !== null; cur = prev[cur]) path.push(cur);
        return path.reverse();
      }
          </code></pre>

          <h2 class="text-secondary mb-3">Characteristics</h2>
          <ul>
            <li><strong>Requirements:</strong> All edge weights must be <em>non-negative</em>.</li>
            <li><strong>Data Structure:</strong> Min-priority queue keyed by tentative distance.</li>
            <li><strong>Optimality:</strong> Produces exact shortest paths from the source.</li>
            <li><strong>Time Complexity:</strong> <code>O((V + E) log V)</code> with a binary heap; <code>O(V^2)</code> with a simple array.</li>
            <li><strong>Space Complexity:</strong> <code>O(V + E)</code> for the graph + <code>O(V)</code> for arrays.</li>
            <li><strong>Outputs:</strong> Distance array and a predecessor array to reconstruct paths.</li>
          </ul>

          <p class="mt-3">
            Dijkstra’s Algorithm is the go-to choice for routing, mapping, and network optimization when weights
            are non-negative. For graphs with negative edges, use Bellman–Ford or Johnson’s algorithm instead.
          </p>

              <h2>References</h2>
              <ul>
                  <li><a href="https://www.youtube.com/watch?v=_lHSawdgXpI">Dijkstra's algorithm in 3 minutes - Michael Sambol - YouTube</a></li>
              </ul>
        </div>

 
      </div>



    
        <div class="container py-4">
          <div class="row g-4">
            <div class="col-12">
              <h1 class="h3 mb-0">Dijkstra's Algorithm — Step-by-Step</h1>
            </div>

            <!-- Controls panel -->
            <div class="col-lg-4">
              <div class="card shadow-sm">
                <div class="card-body">
                  <h2 class="h5">Setup</h2>
                  <div class="mb-3">
                    <label class="form-label" for="nodeCount">Number of nodes</label>
                    <input type="number" class="form-control" id="nodeCount" min="2" max="30" value="6" />
                    <div class="form-text">Nodes are labeled <code>0..N-1</code>.</div>
                  </div>

                  <div class="row g-2 align-items-end mb-2">
                    <div class="col-4">
                      <label class="form-label" for="edgeU">From</label>
                      <input type="number" class="form-control" id="edgeU" min="0" value="0"/>
                    </div>
                    <div class="col-4">
                      <label class="form-label" for="edgeV">To</label>
                      <input type="number" class="form-control" id="edgeV" min="0" value="1"/>
                    </div>
                    <div class="col-4">
                      <label class="form-label" for="edgeW">Weight</label>
                      <input type="number" class="form-control" id="edgeW" min="1" value="7"/>
                    </div>
                    <div class="col-12 d-flex gap-2">
                      <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="undirected" checked>
                        <label class="form-check-label" for="undirected">Undirected</label>
                      </div>
                      <button class="btn btn-outline-primary btn-sm ms-auto" id="addEdge">Add edge</button>
                      <button class="btn btn-outline-danger btn-sm" id="clearEdges">Clear edges</button>
                    </div>
                  </div>

                  <div class="mb-3">
                    <label class="form-label" for="edgeList">Edge list (one per line: <code>u v w</code>)</label>
                    <textarea class="form-control font-mono" id="edgeList" rows="6">0 1 7
      0 2 9
      0 5 14
      1 2 10
      1 3 15
      2 3 11
      2 5 2
      3 4 6
      4 5 9</textarea>
                    <div class="form-text">You can add with fields above or edit directly here.</div>
                  </div>

                  <div class="mb-3">
                    <label class="form-label" for="sourceNode">Source node</label>
                    <input type="number" class="form-control" id="sourceNode" min="0" value="0"/>
                  </div>

                  <div class="d-flex gap-2">
                    <button class="btn btn-secondary" id="btnSetup">Setup</button>
                    <button class="btn btn-primary" id="btnStep">Step</button>
                    <button class="btn btn-outline-dark" id="btnAuto" title="Run until completion">Auto</button>
                    <button class="btn btn-outline-warning" id="btnReset">Reset</button>
                  </div>

                  <hr/>
                  <div>
                    <h2 class="h6 mb-2">Legend</h2>
                    <ul class="legend list-unstyled small mb-0">
                      <li><span class="legend-swatch settled"></span> Settled (finalized)</li>
                      <li><span class="legend-swatch frontier"></span> In frontier (discovered)</li>
                      <li><span class="legend-swatch current"></span> Current node / edge under relaxation</li>
                    </ul>
                  </div>
                </div>
              </div>
            </div>

            <!-- Canvas panel -->
            <div class="col-lg-8">
              <div class="card shadow-sm">
                <div class="card-body">
                  <div class="d-flex align-items-center justify-content-between mb-2">
                    <h2 class="h5 mb-0">Graph</h2>
                    <div class="small text-muted" id="status">Ready.</div>
                  </div>
                  <canvas id="stage" width="900" height="560" class="w-100 border rounded"></canvas>
                </div>
              </div>

              <div class="card shadow-sm mt-3">
                <div class="card-body">
                  <h2 class="h6">Distances</h2>
                  <div class="table-responsive">
                    <table class="table table-sm align-middle" id="distTable">
                      <thead>
                        <tr><th>Node</th><th>Distance</th><th>Previous</th><th>State</th></tr>
                      </thead>
                      <tbody></tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>
          </div>

           <a class="official-link" href="./../index.html">Data Structures and Algorithms Official Website</a>
        </div>

        <footer>
            &copy; Progressive Pull. All rights reserved.
        </footer>
  </div>

  <!-- jQuery, Bootstrap, and the demo JS -->
  <script src="../lib/jquery-3.7.1.min.js"></script>
  <script src="../lib/bootstrap-5.3.8-dist/js/bootstrap.min.js"></script>
  <script src="../js/graph/dijkstra.js"></script>
</body>
</html>






